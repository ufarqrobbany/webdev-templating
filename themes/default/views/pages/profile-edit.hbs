{{!< main }}

{{!-- File: themes/default/views/pages/profile-edit.hbs --}}
<div class="profile-edit-page">

  {{!-- HEADER BIRU --}}
  <div class="profile-edit-header">
    <a href="/api/v1/auth/profile" class="back-button">
      <span class="material-icons">arrow_back</span>
    </a>
    <h2>Edit Profil</h2>
  </div>

  {{!-- AVATAR DI TENGAH --}}
  <div class="avatar-section">
    <div class="avatar-wrapper">
      {{#if user.photoPath}}
        <img src="{{user.photoPath}}" alt="Foto Profil" class="avatar-img" />
      {{else}}
        <div class="avatar-placeholder">{{user.initials}}</div>
      {{/if}}
    </div>
    <button id="btn-upload-pic" class="change-photo-btn">Ganti Foto Profil</button>
    <input type="file" id="file-upload-input" accept="image/*" hidden>
  </div>

  {{!-- FORM EDIT --}}
  <div class="card profile-edit-card">
    <form action="/api/v1/auth/profile" method="POST">

      <div class="form-group">
        <label for="firstName">Nama Depan</label>
        <input 
          type="text" 
          id="firstName" 
          name="firstName" 
          class="input-surface rounded-xl px-3 py-2 w-full" 
          value="{{user.firstName}}" 
          required
        >
      </div>

      <div class="form-group">
        <label for="lastName">Nama Belakang</label>
        <input 
          type="text" 
          id="lastName" 
          name="lastName" 
          class="input-surface rounded-xl px-3 py-2 w-full" 
          value="{{user.lastName}}" 
          required
        >
      </div>

      <div class="form-group">
        <label for="bio">Bio</label>
        <textarea 
          id="bio" 
          name="bio" 
          rows="3" 
          maxlength="150"
          class="input-surface rounded-xl px-3 py-2 w-full"
        >{{user.bio}}</textarea>
        <small>Maksimal 150 karakter</small>
      </div>

      <div class="form-actions">
        <a href="/api/v1/auth/profile" class="btn btn-secondary">Batal</a>
        <button type="submit" class="btn btn-primary">Simpan Perubahan</button>
      </div>

    </form>
  </div>
</div>
